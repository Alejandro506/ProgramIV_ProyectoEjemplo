@model IEnumerable<myFirstProject.Data.Models.Vista_HistorialCitasDetalle>
@{
    ViewData["Title"] = "Historial de Citas";
}

<h2 class="mb-3">Historial de Citas</h2>

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Id Cita</th>
            <th>Animal</th>
            <th>Doctor</th>
            <th>Fecha/Hora Cita</th>
            <th>Estado Cita</th>
            <th>Acción</th>
            <th>Fecha Acción</th>
            <th>Observaciones</th>
        </tr>
    </thead>
    <tbody>
    @foreach (var r in Model)
    {
        <tr>
            <td>@r.IdCita</td>
            <td>@r.NombreAnimal</td>
            <td>@r.NombreDoctor</td>

            <!-- FechaHoraCita NO es nullable -->
            <td>@r.FechaHoraCita.ToString("g")</td>

            <td>@r.EstadoCita</td>
            <td>@r.Accion</td>

            <!-- FechaAccion SÍ es nullable -->
            <td>@(r.FechaAccion?.ToString("g") ?? "")</td>

            <td>@r.Observaciones</td>
        </tr>
    }

    </tbody>
</table>


